<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>pivot: libecs/include/pivot/ecs/Core/Scene.hxx Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">pivot
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_6335c9ae2ec822703362946d02820653.html">libecs</a></li><li class="navelem"><a class="el" href="dir_da583c9418a8dca273293d4a45d53a10.html">include</a></li><li class="navelem"><a class="el" href="dir_8176e227b51aa811ebedd3ebe190f619.html">pivot</a></li><li class="navelem"><a class="el" href="dir_12ef61b9a5d5296652956a7c919581e7.html">ecs</a></li><li class="navelem"><a class="el" href="dir_029624d75a22f765d635b3a358c8a343.html">Core</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Scene.hxx</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#pragma once</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160; </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &quot;pivot/ecs/Core/types.hxx&quot;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &quot;pivot/ecs/Core/ComponentManager.hxx&quot;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;pivot/ecs/Core/EntityManager.hxx&quot;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &quot;pivot/ecs/Core/SystemManager.hxx&quot;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;pivot/ecs/Core/EventManager.hxx&quot;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160; </div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;pivot/ecs/Components/Camera.hxx&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;pivot/ecs/Components/Tag.hxx&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160; </div>
<div class="line"><a name="l00016"></a><span class="lineno"><a class="line" href="classIScene.html">   16</a></span>&#160;<span class="keyword">class </span><a class="code" href="classIScene.html">IScene</a> {</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="keyword">protected</span>:</div>
<div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="classIScene.html#a021bb489bb0339b0e85b7dffd8ecfbce">   19</a></span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classIScene.html#a021bb489bb0339b0e85b7dffd8ecfbce">OnCreate</a>() {};</div>
<div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="classIScene.html#a3f0fbe2a5d74d17badda86c806f3c507">   21</a></span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classIScene.html#a3f0fbe2a5d74d17badda86c806f3c507">OnTick</a>() {};</div>
<div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="classIScene.html#a5983c38c4209ec4863413b2b53713489">   23</a></span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classIScene.html#a5983c38c4209ec4863413b2b53713489">OnPause</a>() {};</div>
<div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="classIScene.html#a745b449f84b760ed307669c1d1f9a5c6">   25</a></span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classIScene.html#a745b449f84b760ed307669c1d1f9a5c6">OnResume</a>() {};</div>
<div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="classIScene.html#a46eb3acc7c4d96cd534e2232c783ad37">   27</a></span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classIScene.html#a46eb3acc7c4d96cd534e2232c783ad37">OnStop</a>() {};</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;};</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="classScene.html">   33</a></span>&#160;<span class="keyword">class </span><a class="code" href="classScene.html">Scene</a> : <span class="keyword">public</span> <a class="code" href="classIScene.html">IScene</a></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;{</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="classScene.html#a5ac71b87ce1cdbb61cc04af05532717a">   37</a></span>&#160;    <a class="code" href="classScene.html#a5ac71b87ce1cdbb61cc04af05532717a">Scene</a>(std::string sceneName = <span class="stringliteral">&quot;Scene&quot;</span>): name(sceneName){};</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classScene.html#a0f3009b2ffcd55c44ebb1d571bbdd101">Init</a>();</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    std::string <a class="code" href="classScene.html#a457fa8e6f2792b5b56da8c1998998820">getName</a>();</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="classScene.html#af89c5a49304b24081d4fe27f97fcd29c">   46</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classScene.html#af89c5a49304b24081d4fe27f97fcd29c">setName</a>(std::string newName){ name = newName; }</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="comment">// Entity methods</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    Entity <a class="code" href="classScene.html#a35c6f6a5d73f74ddafa914be45f32bbd">CreateEntity</a>();</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    Entity <a class="code" href="classScene.html#a35c6f6a5d73f74ddafa914be45f32bbd">CreateEntity</a>(std::string newName);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    std::unordered_map&lt;Entity, Signature&gt; <a class="code" href="classScene.html#aa1225356def19bc4cc8ece256ae91c21">getEntities</a>();</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classScene.html#a228e96e09984cce23926537809112a18">DestroyEntity</a>(Entity entity);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="classScene.html#a844396a6ce0862b7d66bcbeb5534a105">   65</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classScene.html#a844396a6ce0862b7d66bcbeb5534a105">hasComponent</a>(Entity entity)</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        Signature entitySignature = mEntityManager-&gt;GetSignature(entity);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        <span class="keywordflow">return</span> isRegister&lt;T&gt;() &amp;&amp; entitySignature.test(mComponentManager-&gt;GetComponentType&lt;T&gt;());</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    }</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    Signature <a class="code" href="classScene.html#a4ed474cddd870a2f9ee7623bc2f6ff27">getSignature</a>(Entity entity);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    std::string &amp;<a class="code" href="classScene.html#a6d087a9d6a1b967c31f6efc60afcdea3">getEntityName</a>(Entity entity);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    uint32_t <a class="code" href="classScene.html#ac55137ca72f70cc7aaa7060f07d5efce">getLivingEntityCount</a>();</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="comment">// Component methods</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="classScene.html#a44079baba9231470ae5aa2b0e846bd58">   87</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classScene.html#a44079baba9231470ae5aa2b0e846bd58">RegisterComponent</a>()</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    {</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        mComponentManager-&gt;RegisterComponent&lt;T&gt;();</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    }</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="classScene.html#a0afeaf0cb14783959dc02c2374c8d3dd">   94</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classScene.html#a0afeaf0cb14783959dc02c2374c8d3dd">isRegister</a>()</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <span class="keywordflow">return</span> mComponentManager-&gt;isRegister&lt;T&gt;();</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    }</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="classScene.html#adab4bc69209b313b2301a3e343608532">  104</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classScene.html#adab4bc69209b313b2301a3e343608532">AddComponent</a>(Entity entity, T component)</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        mComponentManager-&gt;AddComponent&lt;T&gt;(entity, component);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="keyword">auto</span> signature = mEntityManager-&gt;GetSignature(entity);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        signature.set(mComponentManager-&gt;GetComponentType&lt;T&gt;(), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        mEntityManager-&gt;SetSignature(entity, signature);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        mSystemManager-&gt;EntitySignatureChanged(entity, signature);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    }</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="classScene.html#a6da54d7e2ae349d66a068947768056b4">  120</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classScene.html#a6da54d7e2ae349d66a068947768056b4">RemoveComponent</a>(Entity entity)</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        mComponentManager-&gt;RemoveComponent&lt;T&gt;(entity);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <span class="keyword">auto</span> signature = mEntityManager-&gt;GetSignature(entity);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        signature.set(mComponentManager-&gt;GetComponentType&lt;T&gt;(), <span class="keyword">false</span>);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        mEntityManager-&gt;SetSignature(entity, signature);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        mSystemManager-&gt;EntitySignatureChanged(entity, signature);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    }</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="classScene.html#abc4dcd9012d8afa5ccc3f6630ae0f334">  136</a></span>&#160;    T &amp;<a class="code" href="classScene.html#abc4dcd9012d8afa5ccc3f6630ae0f334">GetComponent</a>(Entity entity)</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <span class="keywordflow">return</span> mComponentManager-&gt;GetComponent&lt;T&gt;(entity);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    }</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="classScene.html#ad7b7bcbc02a64ab0ad2f25857697431e">  147</a></span>&#160;    ComponentType <a class="code" href="classScene.html#ad7b7bcbc02a64ab0ad2f25857697431e">GetComponentType</a>()</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="keywordflow">return</span> mComponentManager-&gt;GetComponentType&lt;T&gt;();</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    }</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    std::unordered_map&lt;const char *, ComponentType&gt; <a class="code" href="classScene.html#a07e94b4b626718f303704c4a868dbeb3">getComponentsTypes</a>();</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="comment">// System methods</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="classScene.html#a03cca54219e12d7a060f3c3f72ffb6d1">  162</a></span>&#160;    std::shared_ptr&lt;T&gt; <a class="code" href="classScene.html#a03cca54219e12d7a060f3c3f72ffb6d1">RegisterSystem</a>()</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="keyword">auto</span> system = mSystemManager-&gt;RegisterSystem&lt;T&gt;();</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        mSystems.push_back(system);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <span class="keywordflow">return</span> system;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    }</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="classScene.html#a59d29da9f3056c26496981bbcf733171">  178</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classScene.html#a59d29da9f3056c26496981bbcf733171">SetSystemSignature</a>(Signature signature)</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        mSystemManager-&gt;SetSignature&lt;T&gt;(signature);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="keywordflow">for</span> (Entity entity = 0; entity &lt; <a class="code" href="classScene.html#ac55137ca72f70cc7aaa7060f07d5efce">getLivingEntityCount</a>(); entity++) {</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            <span class="keywordflow">if</span> ( (<a class="code" href="classScene.html#a4ed474cddd870a2f9ee7623bc2f6ff27">getSignature</a>(entity) &amp; signature) == signature)</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                mSystemManager-&gt;setEntityToSystem&lt;T&gt;(entity);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        }</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00189"></a><span class="lineno"><a class="line" href="classScene.html#a1690316b127f5f9cacb74abd650d509b">  189</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classScene.html#a1690316b127f5f9cacb74abd650d509b">hasSystem</a>()</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="keywordflow">return</span> mSystemManager-&gt;hasSystem&lt;T&gt;();</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    }</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classScene.html#ac48b4f744fee99a5b7c5a84e28b76334">Update</a>(<span class="keywordtype">float</span> dt);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="comment">// Event methods</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classScene.html#a2cd1bb91f7a2d78d315dfb0a96cc73ef">AddEventListener</a>(EventId eventId, std::function&lt;<span class="keywordtype">void</span>(<a class="code" href="classEvent.html">Event</a> &amp;)&gt; <span class="keyword">const</span> &amp;listener);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classScene.html#a7e6de1415fdb1bf5c8c77326b42bacdd">SendEvent</a>(<a class="code" href="classEvent.html">Event</a> &amp;event);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classScene.html#a7e6de1415fdb1bf5c8c77326b42bacdd">SendEvent</a>(EventId eventId);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="comment">// Camera</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment"></span>    <span class="keywordtype">void</span> <a class="code" href="classScene.html#a9e6b535ef7dc0c19decc97632d3a3279">setCamera</a>(std::uint16_t camera);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classScene.html#aeffcf2cc7946931b45e99c666e7288a4">addCamera</a>(Entity camera);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classScene.html#aa3a3a7f2a1f8b935cabb57898496283f">switchCamera</a>();</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <a class="code" href="classCamera.html">Camera</a> &amp;<a class="code" href="classScene.html#af79ba3ed7410579be605f6df4a5e70d5">getCamera</a>();</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    std::vector&lt;Entity&gt; &amp;<a class="code" href="classScene.html#a626233398fa6aed372ecf657e813299f">getCameras</a>();</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160; </div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    std::string name;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    std::unique_ptr&lt;ComponentManager&gt; mComponentManager;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    std::unique_ptr&lt;EntityManager&gt; mEntityManager;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    std::unique_ptr&lt;EventManager&gt; mEventManager;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    std::unique_ptr&lt;SystemManager&gt; mSystemManager;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    std::vector&lt;std::shared_ptr&lt;System&gt;&gt; mSystems;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    std::vector&lt;Entity&gt; mCamera;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    std::uint16_t mCurrentCamera;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;};</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassScene_html_ac55137ca72f70cc7aaa7060f07d5efce"><div class="ttname"><a href="classScene.html#ac55137ca72f70cc7aaa7060f07d5efce">Scene::getLivingEntityCount</a></div><div class="ttdeci">uint32_t getLivingEntityCount()</div><div class="ttdoc">Get the number of entity in the scene.</div></div>
<div class="ttc" id="aclassScene_html"><div class="ttname"><a href="classScene.html">Scene</a></div><div class="ttdoc">Coordinates the manager together.</div><div class="ttdef"><b>Definition:</b> Scene.hxx:33</div></div>
<div class="ttc" id="aclassScene_html_a1690316b127f5f9cacb74abd650d509b"><div class="ttname"><a href="classScene.html#a1690316b127f5f9cacb74abd650d509b">Scene::hasSystem</a></div><div class="ttdeci">bool hasSystem()</div><div class="ttdoc">Check if a system is register in a scene.</div><div class="ttdef"><b>Definition:</b> Scene.hxx:189</div></div>
<div class="ttc" id="aclassCamera_html"><div class="ttname"><a href="classCamera.html">Camera</a></div><div class="ttdoc">Camera component (Component exemple)</div><div class="ttdef"><b>Definition:</b> Camera.hxx:20</div></div>
<div class="ttc" id="aclassScene_html_a44079baba9231470ae5aa2b0e846bd58"><div class="ttname"><a href="classScene.html#a44079baba9231470ae5aa2b0e846bd58">Scene::RegisterComponent</a></div><div class="ttdeci">void RegisterComponent()</div><div class="ttdef"><b>Definition:</b> Scene.hxx:87</div></div>
<div class="ttc" id="aclassScene_html_a6d087a9d6a1b967c31f6efc60afcdea3"><div class="ttname"><a href="classScene.html#a6d087a9d6a1b967c31f6efc60afcdea3">Scene::getEntityName</a></div><div class="ttdeci">std::string &amp; getEntityName(Entity entity)</div><div class="ttdoc">Get name of an entity.</div></div>
<div class="ttc" id="aclassScene_html_af89c5a49304b24081d4fe27f97fcd29c"><div class="ttname"><a href="classScene.html#af89c5a49304b24081d4fe27f97fcd29c">Scene::setName</a></div><div class="ttdeci">void setName(std::string newName)</div><div class="ttdoc">Set scene name.</div><div class="ttdef"><b>Definition:</b> Scene.hxx:46</div></div>
<div class="ttc" id="aclassIScene_html_a46eb3acc7c4d96cd534e2232c783ad37"><div class="ttname"><a href="classIScene.html#a46eb3acc7c4d96cd534e2232c783ad37">IScene::OnStop</a></div><div class="ttdeci">virtual void OnStop()</div><div class="ttdoc">Called when scene is delete.</div><div class="ttdef"><b>Definition:</b> Scene.hxx:27</div></div>
<div class="ttc" id="aclassScene_html_a5ac71b87ce1cdbb61cc04af05532717a"><div class="ttname"><a href="classScene.html#a5ac71b87ce1cdbb61cc04af05532717a">Scene::Scene</a></div><div class="ttdeci">Scene(std::string sceneName=&quot;Scene&quot;)</div><div class="ttdoc">Default constructor, if no name specified it will generate a name like Scene 1.</div><div class="ttdef"><b>Definition:</b> Scene.hxx:37</div></div>
<div class="ttc" id="aclassScene_html_a2cd1bb91f7a2d78d315dfb0a96cc73ef"><div class="ttname"><a href="classScene.html#a2cd1bb91f7a2d78d315dfb0a96cc73ef">Scene::AddEventListener</a></div><div class="ttdeci">void AddEventListener(EventId eventId, std::function&lt; void(Event &amp;)&gt; const &amp;listener)</div></div>
<div class="ttc" id="aclassIScene_html_a5983c38c4209ec4863413b2b53713489"><div class="ttname"><a href="classIScene.html#a5983c38c4209ec4863413b2b53713489">IScene::OnPause</a></div><div class="ttdeci">virtual void OnPause()</div><div class="ttdoc">Called when scene is set to pause.</div><div class="ttdef"><b>Definition:</b> Scene.hxx:23</div></div>
<div class="ttc" id="aclassScene_html_a0afeaf0cb14783959dc02c2374c8d3dd"><div class="ttname"><a href="classScene.html#a0afeaf0cb14783959dc02c2374c8d3dd">Scene::isRegister</a></div><div class="ttdeci">bool isRegister()</div><div class="ttdoc">Check if the component is register in the scene.</div><div class="ttdef"><b>Definition:</b> Scene.hxx:94</div></div>
<div class="ttc" id="aclassScene_html_a03cca54219e12d7a060f3c3f72ffb6d1"><div class="ttname"><a href="classScene.html#a03cca54219e12d7a060f3c3f72ffb6d1">Scene::RegisterSystem</a></div><div class="ttdeci">std::shared_ptr&lt; T &gt; RegisterSystem()</div><div class="ttdef"><b>Definition:</b> Scene.hxx:162</div></div>
<div class="ttc" id="aclassScene_html_a35c6f6a5d73f74ddafa914be45f32bbd"><div class="ttname"><a href="classScene.html#a35c6f6a5d73f74ddafa914be45f32bbd">Scene::CreateEntity</a></div><div class="ttdeci">Entity CreateEntity()</div></div>
<div class="ttc" id="aclassScene_html_ac48b4f744fee99a5b7c5a84e28b76334"><div class="ttname"><a href="classScene.html#ac48b4f744fee99a5b7c5a84e28b76334">Scene::Update</a></div><div class="ttdeci">void Update(float dt)</div><div class="ttdoc">Update registered systems.</div></div>
<div class="ttc" id="aclassScene_html_a844396a6ce0862b7d66bcbeb5534a105"><div class="ttname"><a href="classScene.html#a844396a6ce0862b7d66bcbeb5534a105">Scene::hasComponent</a></div><div class="ttdeci">bool hasComponent(Entity entity)</div><div class="ttdoc">Check if entity get a component.</div><div class="ttdef"><b>Definition:</b> Scene.hxx:65</div></div>
<div class="ttc" id="aclassScene_html_a626233398fa6aed372ecf657e813299f"><div class="ttname"><a href="classScene.html#a626233398fa6aed372ecf657e813299f">Scene::getCameras</a></div><div class="ttdeci">std::vector&lt; Entity &gt; &amp; getCameras()</div><div class="ttdoc">Get camera list.</div></div>
<div class="ttc" id="aclassScene_html_aeffcf2cc7946931b45e99c666e7288a4"><div class="ttname"><a href="classScene.html#aeffcf2cc7946931b45e99c666e7288a4">Scene::addCamera</a></div><div class="ttdeci">void addCamera(Entity camera)</div><div class="ttdoc">Add camera to scene camera list.</div></div>
<div class="ttc" id="aclassScene_html_aa1225356def19bc4cc8ece256ae91c21"><div class="ttname"><a href="classScene.html#aa1225356def19bc4cc8ece256ae91c21">Scene::getEntities</a></div><div class="ttdeci">std::unordered_map&lt; Entity, Signature &gt; getEntities()</div><div class="ttdoc">Get entity list.</div></div>
<div class="ttc" id="aclassScene_html_a59d29da9f3056c26496981bbcf733171"><div class="ttname"><a href="classScene.html#a59d29da9f3056c26496981bbcf733171">Scene::SetSystemSignature</a></div><div class="ttdeci">void SetSystemSignature(Signature signature)</div><div class="ttdef"><b>Definition:</b> Scene.hxx:178</div></div>
<div class="ttc" id="aclassScene_html_a7e6de1415fdb1bf5c8c77326b42bacdd"><div class="ttname"><a href="classScene.html#a7e6de1415fdb1bf5c8c77326b42bacdd">Scene::SendEvent</a></div><div class="ttdeci">void SendEvent(Event &amp;event)</div></div>
<div class="ttc" id="aclassEvent_html"><div class="ttname"><a href="classEvent.html">Event</a></div><div class="ttdoc">Send event to Event Manager.</div><div class="ttdef"><b>Definition:</b> Event.hxx:10</div></div>
<div class="ttc" id="aclassScene_html_aa3a3a7f2a1f8b935cabb57898496283f"><div class="ttname"><a href="classScene.html#aa3a3a7f2a1f8b935cabb57898496283f">Scene::switchCamera</a></div><div class="ttdeci">void switchCamera()</div><div class="ttdoc">Switch camera.</div></div>
<div class="ttc" id="aclassIScene_html_a3f0fbe2a5d74d17badda86c806f3c507"><div class="ttname"><a href="classIScene.html#a3f0fbe2a5d74d17badda86c806f3c507">IScene::OnTick</a></div><div class="ttdeci">virtual void OnTick()</div><div class="ttdoc">Called every frame.</div><div class="ttdef"><b>Definition:</b> Scene.hxx:21</div></div>
<div class="ttc" id="aclassScene_html_a457fa8e6f2792b5b56da8c1998998820"><div class="ttname"><a href="classScene.html#a457fa8e6f2792b5b56da8c1998998820">Scene::getName</a></div><div class="ttdeci">std::string getName()</div><div class="ttdoc">Get scene name.</div></div>
<div class="ttc" id="aclassIScene_html_a745b449f84b760ed307669c1d1f9a5c6"><div class="ttname"><a href="classIScene.html#a745b449f84b760ed307669c1d1f9a5c6">IScene::OnResume</a></div><div class="ttdeci">virtual void OnResume()</div><div class="ttdoc">Called when scene is resume.</div><div class="ttdef"><b>Definition:</b> Scene.hxx:25</div></div>
<div class="ttc" id="aclassIScene_html"><div class="ttname"><a href="classIScene.html">IScene</a></div><div class="ttdoc">Scene interface for transitional event.</div><div class="ttdef"><b>Definition:</b> Scene.hxx:16</div></div>
<div class="ttc" id="aclassScene_html_a228e96e09984cce23926537809112a18"><div class="ttname"><a href="classScene.html#a228e96e09984cce23926537809112a18">Scene::DestroyEntity</a></div><div class="ttdeci">void DestroyEntity(Entity entity)</div></div>
<div class="ttc" id="aclassScene_html_af79ba3ed7410579be605f6df4a5e70d5"><div class="ttname"><a href="classScene.html#af79ba3ed7410579be605f6df4a5e70d5">Scene::getCamera</a></div><div class="ttdeci">Camera &amp; getCamera()</div><div class="ttdoc">Get current camera.</div></div>
<div class="ttc" id="aclassScene_html_a0f3009b2ffcd55c44ebb1d571bbdd101"><div class="ttname"><a href="classScene.html#a0f3009b2ffcd55c44ebb1d571bbdd101">Scene::Init</a></div><div class="ttdeci">void Init()</div><div class="ttdoc">Init manager.</div></div>
<div class="ttc" id="aclassScene_html_adab4bc69209b313b2301a3e343608532"><div class="ttname"><a href="classScene.html#adab4bc69209b313b2301a3e343608532">Scene::AddComponent</a></div><div class="ttdeci">void AddComponent(Entity entity, T component)</div><div class="ttdef"><b>Definition:</b> Scene.hxx:104</div></div>
<div class="ttc" id="aclassScene_html_a07e94b4b626718f303704c4a868dbeb3"><div class="ttname"><a href="classScene.html#a07e94b4b626718f303704c4a868dbeb3">Scene::getComponentsTypes</a></div><div class="ttdeci">std::unordered_map&lt; const char *, ComponentType &gt; getComponentsTypes()</div><div class="ttdoc">Get the list of component type use in signature.</div></div>
<div class="ttc" id="aclassScene_html_a6da54d7e2ae349d66a068947768056b4"><div class="ttname"><a href="classScene.html#a6da54d7e2ae349d66a068947768056b4">Scene::RemoveComponent</a></div><div class="ttdeci">void RemoveComponent(Entity entity)</div><div class="ttdef"><b>Definition:</b> Scene.hxx:120</div></div>
<div class="ttc" id="aclassScene_html_abc4dcd9012d8afa5ccc3f6630ae0f334"><div class="ttname"><a href="classScene.html#abc4dcd9012d8afa5ccc3f6630ae0f334">Scene::GetComponent</a></div><div class="ttdeci">T &amp; GetComponent(Entity entity)</div><div class="ttdef"><b>Definition:</b> Scene.hxx:136</div></div>
<div class="ttc" id="aclassScene_html_a4ed474cddd870a2f9ee7623bc2f6ff27"><div class="ttname"><a href="classScene.html#a4ed474cddd870a2f9ee7623bc2f6ff27">Scene::getSignature</a></div><div class="ttdeci">Signature getSignature(Entity entity)</div><div class="ttdoc">Get signature of an entity.</div></div>
<div class="ttc" id="aclassScene_html_ad7b7bcbc02a64ab0ad2f25857697431e"><div class="ttname"><a href="classScene.html#ad7b7bcbc02a64ab0ad2f25857697431e">Scene::GetComponentType</a></div><div class="ttdeci">ComponentType GetComponentType()</div><div class="ttdef"><b>Definition:</b> Scene.hxx:147</div></div>
<div class="ttc" id="aclassScene_html_a9e6b535ef7dc0c19decc97632d3a3279"><div class="ttname"><a href="classScene.html#a9e6b535ef7dc0c19decc97632d3a3279">Scene::setCamera</a></div><div class="ttdeci">void setCamera(std::uint16_t camera)</div><div class="ttdoc">Set camera to use.</div></div>
<div class="ttc" id="aclassIScene_html_a021bb489bb0339b0e85b7dffd8ecfbce"><div class="ttname"><a href="classIScene.html#a021bb489bb0339b0e85b7dffd8ecfbce">IScene::OnCreate</a></div><div class="ttdeci">virtual void OnCreate()</div><div class="ttdoc">Called when scene is create.</div><div class="ttdef"><b>Definition:</b> Scene.hxx:19</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
